{% extends 'base.html.twig' %}

{% block title %}Inscription/Connexion{% endblock %}

{% block body %}
    {% for flash_error in app.flashes('verify_email_error') %}
        <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
    {% endfor %}

    <h1>Inscription</h1>

    {% for error in registrationForm.vars.errors %}
        <div class="alert alert-danger" role="alert">{{ error.message }}</div>
    {% endfor %}

    <form method="post" action="{{ path('app_register') }}">
        {{ form_row(registrationForm._token) }}
        <div>
            <label for="username">Nom d'utilisateur·ice</label>
            <input type="text" id="username" name="registration_form[username]">
        </div>
        <div>
            <label for="firstname">Prénom</label>
            <input type="text" id="firstname" name="registration_form[firstname]" required>
        </div>
        <div>
            <label for="lastname">Nom</label>
            <input type="text" id="lastname" name="registration_form[lastname]" required>
        </div>
        <div>
            <label for="email">Adresse e-mail</label>
            <input type="email" id="email" name="registration_form[email]" required>
        </div>
        <div>
            <label for="plainPassword_first">Mot de passe</label>
            <input type="password" id="plainPassword_first" name="registration_form[plainPassword][first]" required>
        </div>
        <div>
            <label for="plainPassword_second">Confirmez le mot de passe</label>
            <input type="password" id="plainPassword_second" name="registration_form[plainPassword][second]" required>
        </div>
        <button type="submit" class="btn">Je m'inscris</button>
    </form>
    <div>
        <h2>Déjà inscrit·e?</h2>
        <button><a href="{{ path('app_login') }}">Je me connecte</a></button>
    </div>
{% endblock %}
